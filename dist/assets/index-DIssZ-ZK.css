:root{--bg: #f8f9fa;--bg-card: #ffffff;--fg: #1a1a2e;--fg-muted: #6c757d;--accent: #e63946;--accent-hover: #d62839;--primary: #4361ee;--primary-hover: #3a56d4;--success: #06d6a0;--border: #e9ecef;--shadow: 0 2px 8px rgba(0,0,0,.08);--shadow-lg: 0 4px 20px rgba(0,0,0,.12);--radius: 12px;--radius-sm: 8px;--radius-lg: 16px}@media(prefers-color-scheme:dark){:root{--bg: #1a1a2e;--bg-card: #16213e;--fg: #f8f9fa;--fg-muted: #adb5bd;--border: #2d3748;--shadow: 0 2px 8px rgba(0,0,0,.3);--shadow-lg: 0 4px 20px rgba(0,0,0,.4)}}*{box-sizing:border-box}html,body,#root{height:100%;margin:0}body{background:var(--bg);color:var(--fg);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;line-height:1.5;-webkit-font-smoothing:antialiased}.container{display:flex;flex-direction:column;min-height:100%;padding:20px;max-width:800px;margin:0 auto;gap:20px}h1{font-size:1.75rem;font-weight:600;margin:0;color:var(--fg)}h2{font-size:1.25rem;font-weight:600;margin:0 0 12px;color:var(--fg)}.card{background:var(--bg-card);border-radius:var(--radius-lg);padding:24px;box-shadow:var(--shadow);border:1px solid var(--border)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;min-height:52px;min-width:52px;padding:14px 24px;font-size:1rem;font-weight:500;border:none;border-radius:var(--radius);cursor:pointer;transition:all .2s ease;touch-action:manipulation;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}.btn:active{transform:scale(.97)}.btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-primary{background:var(--primary);color:#fff}.btn-primary:hover:not(:disabled){background:var(--primary-hover)}.btn-secondary{background:var(--bg);color:var(--fg);border:1px solid var(--border)}.btn-secondary:hover:not(:disabled){background:var(--border)}.btn-icon{padding:14px;min-width:56px;font-size:1.25rem}.btn-lg{min-height:60px;padding:18px 32px;font-size:1.125rem}.btn-sm{min-height:44px;padding:10px 16px;font-size:.875rem}.button-row{display:flex;gap:12px;flex-wrap:wrap}.input,.textarea{width:100%;padding:16px;font-size:1rem;border:1px solid var(--border);border-radius:var(--radius);background:var(--bg-card);color:var(--fg);transition:border-color .2s,box-shadow .2s}.input:focus,.textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #4361ee26}.textarea{min-height:200px;resize:vertical;line-height:1.6}.settings{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.setting-item{display:flex;flex-direction:column;gap:8px}.setting-label{font-size:.875rem;font-weight:500;color:var(--fg-muted)}.setting-value{font-size:1.125rem;font-weight:600;color:var(--fg)}input[type=range]{-webkit-appearance:none;width:100%;height:8px;border-radius:4px;background:var(--border);outline:none}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:24px;height:24px;border-radius:50%;background:var(--primary);cursor:pointer;border:3px solid white;box-shadow:var(--shadow)}input[type=range]::-moz-range-thumb{width:24px;height:24px;border-radius:50%;background:var(--primary);cursor:pointer;border:3px solid white;box-shadow:var(--shadow)}select{padding:12px 16px;font-size:1rem;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-card);color:var(--fg);cursor:pointer;min-height:48px}input[type=color]{width:48px;height:48px;padding:4px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-card);cursor:pointer}.player-root{position:fixed;inset:0;background:var(--bg);color:var(--fg);display:flex;flex-direction:column;touch-action:manipulation}.focal-wrap{flex:1;display:flex;align-items:center;justify-content:center;padding:20px}.focal-grid{display:grid;grid-template-columns:1fr auto 1fr;align-items:baseline;gap:1.5ch;width:min(95vw,1000px);padding:0 20px;font-variant-ligatures:none;letter-spacing:.02em;white-space:pre}.side{color:var(--fg-muted);opacity:.6}.side-left{text-align:right}.side-right{text-align:left}.middle-grid{display:grid;grid-template-columns:max-content 1ch max-content;column-gap:.1ch;align-items:baseline;justify-items:center;text-align:center;font-family:ui-monospace,SF Mono,SFMono-Regular,Menlo,Consolas,monospace}.middle-grid .pre{justify-self:end;text-align:right;color:var(--fg)}.middle-grid .pivot{justify-self:center;color:var(--accent);font-weight:600}.middle-grid .post{justify-self:start;text-align:left;color:var(--fg)}.player-controls{background:var(--bg-card);border-top:1px solid var(--border);padding:16px 20px;padding-bottom:max(16px,env(safe-area-inset-bottom))}.controls-main{display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;margin-bottom:12px}.controls-group{display:flex;align-items:center;gap:8px;background:var(--bg);padding:6px;border-radius:var(--radius)}.controls-label{font-size:.75rem;font-weight:600;color:var(--fg-muted);text-transform:uppercase;letter-spacing:.5px;padding:0 8px}.controls-value{font-size:1rem;font-weight:700;color:var(--fg);min-width:48px;text-align:center}.time-remaining{font-size:.875rem;color:var(--fg-muted);padding:0 12px}.progress-container{padding:0 20px 12px}.progress{position:relative;height:6px;background:var(--border);border-radius:3px;overflow:hidden;cursor:pointer}.progress:hover{height:10px}.progress>div{height:100%;background:linear-gradient(90deg,var(--primary),var(--success));border-radius:3px;transition:width .1s ease-out}.keyboard-hints{text-align:center;padding:8px;font-size:.75rem;color:var(--fg-muted)}kbd{display:inline-block;background:var(--bg);border:1px solid var(--border);border-radius:4px;padding:2px 6px;font-size:.75rem;font-family:inherit;margin:0 2px}.header{display:flex;align-items:center;justify-content:space-between;gap:16px;padding-bottom:8px}.info-box{background:var(--bg);border-radius:var(--radius);padding:16px;font-size:.875rem;color:var(--fg-muted);border-left:3px solid var(--primary)}.error-message{background:#fef2f2;color:#dc2626;padding:16px;border-radius:var(--radius);border-left:3px solid #dc2626}.loading{display:flex;align-items:center;gap:12px;padding:16px;color:var(--fg-muted)}.spinner{width:20px;height:20px;border:2px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}@media(max-width:600px){.container{padding:16px;gap:16px}.card{padding:20px}h1{font-size:1.5rem}.settings{grid-template-columns:1fr}.controls-main{gap:8px}.keyboard-hints{display:none}}.bookmarklet-section{background:linear-gradient(135deg,var(--primary),#7209b7);color:#fff;border-radius:var(--radius-lg);padding:32px;text-align:center}.bookmarklet-link{display:inline-block;background:#fff;color:var(--primary);padding:16px 32px;border-radius:var(--radius);font-weight:600;font-size:1.125rem;text-decoration:none;box-shadow:var(--shadow-lg);cursor:grab;transition:transform .2s}.bookmarklet-link:hover{transform:scale(1.05)}.bookmarklet-instructions{margin-top:20px;font-size:.9rem;opacity:.9}
